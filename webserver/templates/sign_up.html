{% extends 'flash_error.html' %}
{% block body %}
    {% if sign_up %}
        <div class="alert" align="center">
            <span class="closebtn" onclick="this.parentElement.style.display='none';">&times;</span>
            <strong>Sign Up Successfully! The Page Will Be Redirect To Your Private Home Page Soon.</strong>
        </div>
        <meta http-equiv="refresh" content="2;url=/user_page/{{ admin_user }}/private">
    {% else %}
        <link rel="stylesheet" href="/static/style.css" type="text/css">

        <form action="/sign_up" method="post" onsubmit="return ifSubmit();">
            <div class="login">
                <div class="login-screen">
                    <div class="app-title">
                        <h3>Welcome!</h3>
                    </div>

                    <div class="login-form">
                        <div class="control-group">
                            <input type="text" class="login-field" value="{{ username }}" placeholder="username"
                                   name="username">
                            <label class="login-field-icon fui-user" for="login-name"></label>
                        </div>

                        <div class="control-group">
                            <input type="text" class="login-field" value="{{ email }}" placeholder="E-mail"
                                   name="email">
                            <label class="login-field-icon fui-lock" for="login-pass"></label>
                        </div>

                        <div class="control-group">
                            <input type="password" class="login-field" value="{{ password }}" placeholder="password"
                                   name="password">
                            <label class="login-field-icon fui-lock" for="login-pass"></label>
                        </div>

                        <div class="control-group">
                            <input type="password" class="login-field" value="{{ confirm_password }}"
                                   placeholder="confirm password" name="confirmPassword">
                            <label class="login-field-icon fui-lock" for="login-pass"></label>
                        </div>

                        <input type="submit" value="Sign Up" class="btn btn-primary btn-large btn-block"
                               onclick="submitClick()">
                        <br>
                    </div>
                </div>
            </div>
        </form>
    {% endif %}
    
    <script>
        function submitClick() {
            var username = document.getElementsByName("username")[0].value;
            var email = document.getElementsByName("email")[0].value;
            var password = document.getElementsByName("password")[0].value;
            var confirmPassword = document.getElementsByName("confirmPassword")[0].value;
            if (username == "") {
                alert("Username must not be null!");
            }
            if (email == "") {
                alert("E-mail must not be null!");
            }
            if (password == "") {
                alert("Password must not be null!");
            }
            if (confirmPassword == "") {
                alert("Please confirm your password!");
            }
        }

        function ifSubmit() {
            var username = document.getElementsByName("username")[0].value;
            var email = document.getElementsByName("email")[0].value;
            var password = document.getElementsByName("password")[0].value;
            var confirmPassword = document.getElementsByName("confirmPassword")[0].value;
            if (username != "" && email != "" && password != "" && confirmPassword != "") {
                return true;
            }
            return false;
        }
    </script>

{% endblock %}